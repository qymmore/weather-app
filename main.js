(()=>{const e=document.querySelector("button"),t=document.querySelector(".search-form"),n=document.querySelector("#search");async function o(e){let t=n.value;t||alert("Must enter a city name"),e.preventDefault();try{const e=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${t}&appid=4af338f9a4a4bfc6ef0dfbe08ae0fe35&units=metric`,{mode:"cors"});if(!e.ok)throw new Error(`${t} is not a valid city`);const n=function(e){const{name:t,main:{temp:n,feels_like:o,humidity:a,temp_min:i,temp_max:c},weather:{description:r,icon:m,main:s},sys:{country:u}}=e;return{city:t,temperature:n,feelsLike:o,humidity:a,minTemp:i,maxTemp:c,conditions:r,icon:m,countryCode:u,main:s}}(await e.json());console.log(n)}catch(e){return console.log(e),null}}e.addEventListener("click",o),t.addEventListener("submit",o)})();